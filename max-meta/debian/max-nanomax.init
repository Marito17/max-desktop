#!/bin/bash

# Load the VERBOSE setting and other rcS variables
[ -e /lib/init/vars.sh ] && . /lib/init/vars.sh

# Define LSB log_* functions.
# Depend on lsb-base (>= 3.0-6) to ensure that this file is present.
. /lib/lsb/init-functions

setup_nanomax() {
  [ ! -e /usr/bin/acroread ] && ln -s /usr/bin/evince /usr/bin/acroread
  [ ! -e /usr/share/pixmaps/acroread.png ] && ln -s /usr/share/icons/maxtoon/48x48/apps/xpdf.png /usr/share/pixmaps/acroread.png

  if [ ! -e /usr/share/crystalsvg/48x48/apps/acroread.png ]; then
    mkdir -p /usr/share/crystalsvg/48x48/apps
    ln -s /usr/share/icons/maxtoon/48x48/apps/xpdf.png /usr/share/crystalsvg/48x48/apps/acroread.png
  fi

  if [ ! -e /usr/share/xsessions/gnome.desktop ]; then
    [-e /usr/share/xsessions/LXDE.desktop ] && ln -s /usr/share/xsessions/LXDE.desktop /usr/share/xsessions/gnome.desktop
  fi
  
  if [ ! -e /usr/share/xsessions/gnome.desktop ]; then
    [-e /usr/share/xsessions/xfce.desktop ] && ln -s /usr/share/xsessions/xfce.desktop /usr/share/xsessions/gnome.desktop
  fi
}


# create some items on boot (for nanomax)

case "$1" in
  start)
    log_begin_msg "Starting nanoMaX settings"
      setup_nanomax
    log_end_msg 0
  ;;

esac

exit 0
